(window.webpackJsonp=window.webpackJsonp||[]).push([["admin.config"],{6354:function(e,t,l){"use strict";l.r(t);var i=l("9f5d"),o=[{name:"id",label:"编号",show:!1},{name:"key",label:"键"},{name:"value",label:"值"},{name:"remarks",label:"备注"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],r=l("68f2"),n=$api.admin.config,a={mixins:[r.b.dialog],data:function(){return{form:{title:"添加配置项",icon:"add",action:n.add,model:{key:"",value:"",remarks:""},rules:{key:[{required:!0,message:"请输入键",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},methods:{onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick((function(){e.$refs.form.reset()}))}}},s=l("2877"),m=Object(s.a)(a,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("nm-form-dialog",e._g(e._b({ref:"form",attrs:{visible:e.visible_},on:{"update:visible":function(t){e.visible_=t}}},"nm-form-dialog",e.form,!1),e.on),[l("el-row",[l("el-col",{attrs:{span:20,offset:1}},[l("el-form-item",{attrs:{label:"键：",prop:"key"}},[l("el-input",{model:{value:e.form.model.key,callback:function(t){e.$set(e.form.model,"key",t)},expression:"form.model.key"}})],1),l("el-form-item",{attrs:{label:"值：",prop:"value"}},[l("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.model.value,callback:function(t){e.$set(e.form.model,"value",t)},expression:"form.model.value"}})],1),l("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.form.model.remarks,callback:function(t){e.$set(e.form.model,"remarks",t)},expression:"form.model.remarks"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,u=$api.admin.config,d={mixins:[r.b.formDialogEdit],data:function(){return{api:u,form:{title:"编辑配置项",icon:"edit",action:u.update,model:{id:"",key:"",value:"",remarks:""},rules:{key:[{required:!0,message:"请输入键",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"}]}}}}},c=Object(s.a)(d,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("nm-form-dialog",e._g(e._b({ref:"form",attrs:{visible:e.visible_},on:{"update:visible":function(t){e.visible_=t}}},"nm-form-dialog",e.form,!1),e.on),[l("el-row",[l("el-col",{attrs:{span:20,offset:1}},[l("el-form-item",{attrs:{label:"键：",prop:"key"}},[l("el-input",{model:{value:e.form.model.key,callback:function(t){e.$set(e.form.model,"key",t)},expression:"form.model.key"}})],1),l("el-form-item",{attrs:{label:"值：",prop:"value"}},[l("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.model.value,callback:function(t){e.$set(e.form.model,"value",t)},expression:"form.model.value"}})],1),l("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.form.model.remarks,callback:function(t){e.$set(e.form.model,"remarks",t)},expression:"form.model.remarks"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,f=$api.admin.config,b={name:i.default.name,components:{AddPage:m,EditPage:c},data:function(){return{list:{title:i.default.title,cols:o,action:f.query,model:{key:""}},addPage:{visible:!1},editDialog:{visible:!1,id:""},bindMenuDialog:{visible:!1,id:""},removeAction:f.remove,buttons:i.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},edit:function(e){this.editDialog={id:e.id,visible:!0}},bindMenu:function(e){this.bindMenuDialog={id:e.id,visible:!0}}}},p=Object(s.a)(b,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("nm-container",[l("nm-list",e._b({ref:"list",scopedSlots:e._u([{key:"querybar",fn:function(){return[l("el-form-item",{attrs:{label:"键或值：",prop:"key"}},[l("el-input",{attrs:{clearable:""},model:{value:e.list.model.key,callback:function(t){e.$set(e.list.model,"key",t)},expression:"list.model.key"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[l("nm-button",e._b({on:{click:function(t){e.addPage.visible=!0}}},"nm-button",e.buttons.add,!1))]},proxy:!0},{key:"col-operation",fn:function(t){var i=t.row;return[l("nm-button",e._b({on:{click:function(t){return e.edit(i)}}},"nm-button",e.buttons.edit,!1)),l("nm-button-delete",e._b({attrs:{action:e.removeAction,id:i.id},on:{success:e.refresh}},"nm-button-delete",e.buttons.del,!1))]}}])},"nm-list",e.list,!1)),l("add-page",{attrs:{visible:e.addPage.visible},on:{"update:visible":function(t){return e.$set(e.addPage,"visible",t)},success:e.refresh}}),l("edit-page",{attrs:{id:e.editDialog.id,visible:e.editDialog.visible},on:{"update:visible":function(t){return e.$set(e.editDialog,"visible",t)},success:e.refresh}})],1)}),[],!1,null,null,null);t.default=p.exports}}]);